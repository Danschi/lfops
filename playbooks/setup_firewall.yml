- name: 'The Linuxfabrik firewall setup'
  hosts:
    - 'lfops_setup_firewall'

  roles:

    - role: 'linuxfabrik.lfops.bind'
      when:
        - 'not setup_firewall__skip_bind | d(false)'

    # - role: 'linuxfabrik.lfops.fail2ban' TODO
    #   when:
    #     - 'not setup_firewall__skip_fail2ban | d(false)'

    - role: 'linuxfabrik.lfops.openvpn_server'
      when:
        - 'not setup_firewall__skip_openvpn_server | d(false)'

    # chrony is already in the setup_basic, just needs a config variable to run as a server
