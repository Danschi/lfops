- block:

  - name: 'setenforce {{ selinux__state }}'
    ansible.posix.selinux:
      policy: 'targeted'
      state: '{{ selinux__state }}'
    vars:
      ansible_python_interpreter: '/usr/libexec/platform-python'

  tags:
    - 'selinux'
    - 'selinux:state'


- block:

  - name: 'setsebool -P ...'
    seboolean:
      name: '{{ item.key }}'
      state: '{{ item.value }}'
      persistent: true
    loop: '{{ selinux__booleans__combined_var }}'
    vars:
      ansible_python_interpreter: '/usr/libexec/platform-python'

  tags:
    - 'selinux'
    - 'selinux:booleans'
