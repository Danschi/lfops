# {{ ansible_managed }}
# 2023083001
# Raw (self-defined) vHost
{% if item['by_role'] | d() %}
# Generated by Ansible role: {{ item['by_role'] }}
{% endif %}

# {{ item['comment'] | d('no description available') }}
<VirtualHost {{ item['virtualhost_ip'] | d('*') }}:{{ item['virtualhost_port'] | d(443) }}>
    ServerName {{ item['conf_server_name'] }}
{% if item['conf_server_alias'] is defined and item['conf_server_alias'] | length %}
{% for alias in item['conf_server_alias'] %}
    ServerAlias {{ alias }}
{% endfor %}
{% endif %}

{% if item['raw'] | d() %}
# raw content
{{ item['raw'] }}
{% endif %}
</VirtualHost>
