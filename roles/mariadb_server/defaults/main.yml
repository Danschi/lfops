mariadb_server__enabled: true
mariadb_server__state: 'started'

mariadb_server__admin_host:
  - '127.0.0.1'
  - '::1'
  - 'localhost'

mariadb_server__dependent_databases: []
mariadb_server__group_databases: []
mariadb_server__host_databases: []
mariadb_server__role_databases: []
mariadb_server__combined_databases: '{{ mariadb_server__role_databases +
  mariadb_server__group_databases +
  mariadb_server__host_databases +
  mariadb_server__dependent_databases
  | flatten
 }}'

mariadb_server__dependent_users: []
mariadb_server__group_users: []
mariadb_server__host_users: []
mariadb_server__role_users: []
mariadb_server__combined_users: '{{ mariadb_server__role_users +
  mariadb_server__group_users +
  mariadb_server__host_users +
  mariadb_server__dependent_users
  | flatten
 }}'

mariadb_server__dump_directory: '/backup/mariadb-dump'
mariadb_server__dump_mydumper_package: 'mydumper'
mariadb_server__dump_threads: 4
mariadb_server__dump_user_host: 'localhost'
mariadb_server__dump_user_priv:
  - '*.*:usage'
mariadb_server__dump_user_state: 'present'

mariadb_server__logrotate: 14

mariadb_server__monitoring_user_host: 'localhost'
mariadb_server__monitoring_user_priv:
  - '*.*:usage'
mariadb_server__monitoring_user_state: 'present'

mariadb_server__python__dependent_modules:
  - 'python3-PyMySQL'

# Defaults that Linuxfabrik finds useful
mariadb_server__cnf_character_set_server: 'utf8mb4'
mariadb_server__cnf_collation_server: 'utf8mb4_unicode_ci'
mariadb_server__cnf_expire_logs_days: 0
mariadb_server__cnf_innodb_buffer_pool_size: '128M'
mariadb_server__cnf_innodb_file_per_table: 'ON'
mariadb_server__cnf_innodb_flush_log_at_trx_commit: 1
mariadb_server__cnf_innodb_io_capacity: 200
mariadb_server__cnf_innodb_log_file_size: '96M'
mariadb_server__cnf_join_buffer_size: '256K'
mariadb_server__cnf_log_error: '/var/log/mariadb/mariadb.log'
mariadb_server__cnf_lower_case_table_names: 0
mariadb_server__cnf_max_allowed_packet: '16M'
mariadb_server__cnf_max_connections: 64
mariadb_server__cnf_max_heap_table_size: '16M'
mariadb_server__cnf_performance_schema: 'ON'
mariadb_server__cnf_query_cache_limit: '1M'
mariadb_server__cnf_query_cache_size: 0
mariadb_server__cnf_query_cache_type: 'OFF'
mariadb_server__cnf_skip_name_resolve: 'ON'
mariadb_server__cnf_tmp_table_size: '16M'
